"0","# Load colorectal cancer incidence data"
"0","colorectal_cancer <- readr::read_csv(here(""data"", ""colonandrectum_cancer_new_cases_per_100000_men.csv""))"
"2","[1mRows: [22m[34m207[39m [1mColumns: [22m[34m68[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (1): country
[32mdbl[39m (67): 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, 1965, 1966..."
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","# Reshape data to long format, and filter to only take data from 1990 on"
"0","colorectal_long <- colorectal_cancer %>%"
"0","  pivot_longer(cols = -country, names_to = ""year"", values_to = ""incidence"") %>%"
"0","  mutate(year = as.integer(year)) %>%"
"0","  drop_na(incidence) %>%"
"0","  filter(year >= 1990)"
"0",""
"0","# with the package country codes, add region"
"0","colorectal_long <- colorectal_long %>%"
"0","  mutate(region = countrycode(country, origin = ""country.name"", destination = ""region""))"
"0",""
"0","# Filter data for 2019 and onwards"
"0","colorectal_2019 <- colorectal_long %>%"
"0","  filter(year == 2019)"
"0",""
"0","# Calculate key metrics"
"0",""
"0","# Which country has the maximum incidence?"
"0","max_incidence_2019 <- max(colorectal_2019$incidence, na.rm = TRUE)"
"0","max_incidence_country <- colorectal_2019$country[which.max(colorectal_2019$incidence)]"
"0",""
"0","# Which country has the minimum incidence?"
"0","min_incidence_2019 <- min(colorectal_2019$incidence, na.rm = TRUE)"
"0","min_incidence_country <- colorectal_2019$country[which.min(colorectal_2019$incidence)]"
"0",""
"0","#Worldwide average incidence"
"0","avg_incidence_2019 <- mean(colorectal_2019$incidence, na.rm = TRUE)"
"0",""
"0","# Calculate the average incidence per region in 2019"
"0","regional_avg_2019 <- colorectal_2019 %>%"
"0","  group_by(region) %>%"
"0","  summarize(avg_incidence = mean(incidence, na.rm = TRUE), .groups = ""drop"")"
